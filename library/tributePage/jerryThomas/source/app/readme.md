includes all of the rendering code